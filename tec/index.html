<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEC.PI â€“ Interactive Glow Particles</title>
<style>
body {
  margin:0;
  overflow:hidden;
  background:#10002b;
  color:#fff;
  font-family:"Poppins",Arial,sans-serif;
}
.toggle-mode {
  position:absolute;
  top:20px;
  right:20px;
  padding:8px 15px;
  background:#a64eff;
  color:#000;
  border:none;
  border-radius:30px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 15px #a64eff;
  z-index:10;
}
body.light {
  background:#fff;
  color:#000;
}
body.light .toggle-mode {
  background:#7d33ff;
  color:#fff;
}
</style>
</head>
<body>
<button class="toggle-mode" onclick="document.body.classList.toggle('light')">Toggle Mode</button>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let w = canvas.width = window.innerWidth;
let h = canvas.height = window.innerHeight;

window.addEventListener('resize', () => { 
  w = canvas.width = window.innerWidth; 
  h = canvas.height = window.innerHeight; 
});

class Particle {
  constructor(){
    this.x = Math.random() * w;
    this.y = Math.random() * h;
    this.vx = (Math.random() - 0.5) * 1.5;
    this.vy = (Math.random() - 0.5) * 1.5;
    this.size = Math.random() * 3 + 1;
    this.trail = [];
  }
  update(){
    this.x += this.vx;
    this.y += this.vy;
    if(this.x < 0 || this.x > w) this.vx *= -1;
    if(this.y < 0 || this.y > h) this.vy *= -1;

    this.trail.push({x:this.x, y:this.y});
    if(this.trail.length > 15) this.trail.shift();
  }
  draw(){
    for(let i=0; i < this.trail.length-1; i++){
      const p1 = this.trail[i];
      const p2 = this.trail[i+1];
      const alpha = i / this.trail.length;
      ctx.strokeStyle = document.body.classList.contains('light') ? `rgba(125,51,255,${alpha})` : `rgba(166,78,255,${alpha})`;
      ctx.lineWidth = this.size;
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
    ctx.fillStyle = document.body.classList.contains('light') ? '#7d33ff' : '#a64eff';
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    ctx.fill();
  }
}

let particles = [];
for(let i=0; i<150; i++) particles.push(new Particle());

canvas.addEventListener('mousemove', e=>{
  particles.forEach(p=>{
    let dx = p.x - e.clientX;
    let dy = p.y - e.clientY;
    let dist = Math.sqrt(dx*dx + dy*dy);
    if(dist < 100){
      p.vx += dx * 0.0005;
      p.vy += dy * 0.0005;
    }
  });
});

function animate(){
  ctx.fillStyle = document.body.classList.contains('light') ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)';
  ctx.fillRect(0,0,w,h);
  particles.forEach(p => { p.update(); p.draw(); });
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TEC | Titan Elite Commerce</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700;900&display=swap" rel="stylesheet">
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Cairo',sans-serif;background:#0a0e2b;color:#fff;overflow-x:hidden;transition: all .5s;}
    canvas#bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;opacity:0.7;}
    header{text-align:center;padding:130px 20px 90px;}
    .logo-tec{font-size:6.8rem;font-weight:900;background:linear-gradient(90deg,#00ff9d,#00c6ff,#0072ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 50px rgba(0,198,255,0.6);letter-spacing:12px;}
    .dynamic-text{font-size:2.5rem;font-weight:900;background:linear-gradient(90deg,#00ff9d,#00c6ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:30px 0;min-height:70px;}
    .btn{display:inline-block;background:linear-gradient(90deg,#0072ff,#00c6ff);color:#fff;padding:15px 45px;margin:10px;border-radius:50px;font-weight:700;box-shadow:0 8px 30px rgba(0,114,255,0.5);transition:.4s;}
    .btn:hover{transform:translateY(-6px);box-shadow:0 20px 45px rgba(0,114,255,0.7);}
    .pi-btn{background:linear-gradient(90deg,#ff8c00,#ff5e00);}
    .categories{max-width:1400px;margin:90px auto;padding:0 20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:30px;}
    .cat{background:rgba(0,198,255,0.15);border:2px solid rgba(0,198,255,0.5);border-radius:26px;overflow:hidden;transition:.5s;}
    .cat h3{background:linear-gradient(135deg,#0072ff,#00c6ff);padding:32px;font-size:1.9rem;text-align:center;color:#fff;cursor:pointer;position:relative;}
    .cat h3::after{content:'▼';position:absolute;right:25px;top:50%;transform:translateY(-50%);}
    .cat h3.open::after{content:'▲';}
    .subdomains{max-height:0;overflow:hidden;transition:max-height 0.8s ease;background:rgba(0,114,255,0.08);}
    .subdomains.open{max-height:2000px;padding:30px 20px;}
    .grid{display:flex;flex-direction:column;gap:16px;}
    .item{background:rgba(255,255,255,0.1);padding:18px 22px;border-radius:16px;text-align:center;font-weight:700;font-size:1.1rem;transition:.4s;border:1px solid rgba(0,198,255,0.3);}
    .item:hover{background:rgba(0,198,255,0.4);transform:translateX(10px);box-shadow:0 0 30px rgba(0,198,255,0.6);}
    
    /* ⭐ NEW – Light Mode Styles */
    body.light-mode {
      background: #f5f7ff;
      color: #000;
    }
    body.light-mode header .logo-tec {
      text-shadow: none;
    }
    body.light-mode .cat {
      background: rgba(0, 100, 255, 0.08);
      border-color: rgba(0, 100, 255, 0.4);
    }
    body.light-mode .item {
      background: rgba(0, 0, 0, 0.06);
      border-color: rgba(0, 100, 255, 0.3);
      color: #000;
    }
    body.light-mode .item:hover {
      background: rgba(0, 100, 255, 0.3);
      color: #fff;
    }
    body.light-mode h1,
    body.light-mode h3 {
      color: #000;
    }
    #themeToggle {
      position: fixed;
      top: 25px;
      left: 25px;
      background: linear-gradient(90deg, #00ff9d, #00c6ff);
      border: none;
      padding: 12px 25px;
      border-radius: 40px;
      color: #000;
      font-weight: 800;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 0 15px rgba(0,198,255,0.6);
      transition: .3s;
    }
    #themeToggle:hover {
      transform: scale(1.08);
    }
  </style>
</head>
<body>

  <!-- ⭐ NEW – زر تغيير الوضع -->
  <button id="themeToggle">Light Mode</button>

  <canvas id="bg"></canvas>

  <header>
    <div class="logo-tec">TEC</div>
    <h1>Titan Elite Commerce</h1>
    <div class="dynamic-text" id="dynamicText">Elite</div>
    <p>Official Luxury Commerce & Finance Ecosystem on Pi Network</p>
    <a href="/" class="btn">Home</a>
    <a href="#" id="piLoginBtn" class="btn pi-btn">Login with Pi</a>
    <a href="#" id="piPaymentBtn" class="btn pi-btn">Test Payment</a>
  </header>

  <section class="categories">

    <div class="cat"><h3>Commerce & Finance</h3><div class="subdomains" id="commerce"><div class="grid">
      <a href="/?open=commerce" class="item">Commerce</a>
      <a href="/?open=commerce" class="item">Ecommerce</a>
      <a href="/?open=commerce" class="item">FundX</a>
      <a href="/?open=commerce" class="item">Assets</a>
      <a href="/?open=commerce" class="item">NBF</a>
      <a href="/?open=commerce" class="item">DX</a>
    </div></div></div>

    <div class="cat"><h3>Lifestyle & Elite</h3><div class="subdomains" id="lifestyle"><div class="grid">
      <a href="/?open=lifestyle" class="item">Life</a>
      <a href="/?open=lifestyle" class="item">Estate</a>
      <a href="/?open=lifestyle" class="item">VIP</a>
      <a href="/?open=lifestyle" class="item">Elite</a>
      <a href="/?open=lifestyle" class="item">Titan</a>
      <a href="/?open=lifestyle" class="item">Legend</a>
      <a href="/?open=lifestyle" class="item">Epic</a>
    </div></div></div>

    <div class="cat"><h3>Technology & Tools</h3><div class="subdomains" id="tech"><div class="grid">
      <a href="/?open=tech" class="item">Analytics</a>
      <a href="/?open=tech" class="item">Explorer</a>
      <a href="/?open=tech" class="item">Alert</a>
      <a href="/?open=tech" class="item">System</a>
      <a href="/?open=tech" class="item">NX</a>
      <a href="/?open=tech" class="item">Connection</a>
      <a href="/?open=tech" class="item">TEC</a>
    </div></div></div>

    <div class="cat"><h3>Network & Partners</h3><div class="subdomains" id="network"><div class="grid">
      <a href="/?open=network" class="item">Nexus</a>
      <a href="/?open=network" class="item">Brookfield</a>
      <a href="/?open=network" class="item">SAB</a>
      <a href="/?open=network" class="item">Insure</a>
      <a href="/?open=network" class="item">Zone</a>
    </div></div></div>

  </section>

  <script>
    // قراءة الـ ?open= من اللينك وفتح القسم المناسب
    const urlParams = new URLSearchParams(window.location.search);
    const open = urlParams.get('open');
    if(open === 'commerce' || open === 'lifestyle' || open === 'tech' || open === 'network'){
      setTimeout(() => {
        const section = document.getElementById(open);
        section.classList.add('open');
        section.previousElementSibling.classList.add('open');
        section.previousElementSibling.scrollIntoView({behavior: "smooth"});
      }, 500);
    }

    // فتح وإغلاق يدوي
    document.querySelectorAll('.cat h3').forEach(h => {
      h.onclick = () => {
        h.classList.toggle('open');
        h.nextElementSibling.classList.toggle('open');
      };
    });

    // نص متغير
    const words = ["Elite","Titan","Luxury","Innovation","Pi Ecosystem","Future"];
    let i = 0;
    setInterval(() => {
      document.getElementById("dynamicText").textContent = words[i];
      i = (i + 1) % words.length;
    }, 1800);

    // خلفية الجسيمات
    const canvas = document.getElementById('bg'), ctx = canvas.getContext('2d');
    canvas.width = innerWidth; canvas.height = innerHeight;
    window.addEventListener('resize', () => {canvas.width = innerWidth; canvas.height = innerHeight;});
    const particles = Array.from({length:150},()=>({
      x:Math.random()*canvas.width, y:Math.random()*canvas.height,
      r:Math.random()*2.5+1, dx:(Math.random()-0.5)*1, dy:(Math.random()-0.5)*1
    }));
    (function anim(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      particles.forEach(p=>{
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle="rgba(0,198,255,0.7)"; ctx.fill();
        p.x += p.dx; p.y += p.dy;
        if(p.x < 0 || p.x > canvas.width) p.dx *= -1;
        if(p.y < 0 || p.y > canvas.height) p.dy *= -1;
      });
      requestAnimationFrame(anim);
    })();

    // Pi SDK
    if(typeof Pi !== 'undefined'){
      Pi.init({version:"2.0", sandbox:true});
      document.getElementById('piLoginBtn').onclick = () => Pi.authenticate(['username'],()=>{}).then(a=>alert("Welcome " + a.user.username)).catch(()=>alert("Failed"));
      document.getElementById('piPaymentBtn').onclick = () => Pi.createPayment({amount:0.01,memo:"TEC Test"},{
        onReadyForServerApproval:()=>alert("Approve in wallet"),
        onReadyForServerCompletion:(p,t)=>alert("Paid! TXID: "+t),
        onCancel:()=>alert("Cancelled")
      });
    }

    /* ⭐ NEW – نظام تبديل الوضع + حفظه */
    const themeBtn = document.getElementById("themeToggle");
    if (localStorage.getItem("theme") === "light") {
      document.body.classList.add("light-mode");
      themeBtn.textContent = "Dark Mode";
    }
    themeBtn.onclick = () => {
      document.body.classList.toggle("light-mode");
      if (document.body.classList.contains("light-mode")) {
        localStorage.setItem("theme", "light");
        themeBtn.textContent = "Dark Mode";
      } else {
        localStorage.setItem("theme", "dark");
        themeBtn.textContent = "Light Mode";
      }
    };
  </script>
</body>
</html>
